<!doctype html>
<dom-module id="admin-quiz-results-row">
	<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
	<style is="custom-style">
		paper-material {
			margin-bottom: 10px;
			padding: 5px;
		}
		.smallbuttons {
			min-width: 2em;
			min-height: 1em;
		}
		.virtalign {
			vertical-align: middle;
		}
	</style>
	<template>
		<paper-dialog id="deleteDialog">
			<h2>Delete?</h2>
			<div class="buttons">
				<paper-button dialog-dismiss>Cancel</paper-button>
				<paper-button dialog-confirm>Delete</paper-button>
			</div>
		</paper-dialog>
		<div class="row">
			<div class="12u">
				<paper-material>
					<div class="row">
						<div class="2u" center center-justified>{{lastname}}</div>
				<div class="2u">{{firstname}}</div>
				<div class="2u">{{score}}</div>
				<!--<div class="2u">{{freeresponsescore}}</div>-->
				<div class="3u">{{datetime}}</div>
				<div class="3u" id="actionButtons"><paper-icon-button on-click="viewResult" icon="icons:open-in-new"></paper-icon-button><paper-icon-button icon="icons:delete" on-click="viewDeleteDialog"></paper-icon-button></div>
					</div>
				</paper-material>
			</div>
				
		</div>
	</template>
	<script>
		Polymer({
			is: "admin-quiz-results-row",
			properties: {
				uuid: {
					type: String,
					value: ""
				},
				lastname: {
					type: String,
					value: "null"
				},
				firstname: {
					type: String,
					value: "null"
				}
			},
			ready: function() {
				if(this.uuid == ""){
					this.$.actionButtons.style.visibility = "hidden";
				}
			},
			viewDeleteDialog: function() {
				this.$.deleteDialog.open();
			},
			viewResult: function() {
				var win = window.open("?p=postquizadmin&uuid=" + this.uuid, "_blank");
				if(win){
					win.focus();
				} else {
					alert("Please allow popups for this site, we promise its not spam/ads :D");
				}
			}
		});
	</script>

</dom-module>