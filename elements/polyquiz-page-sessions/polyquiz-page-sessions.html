<!doctype html>
<dom-module id="polyquiz-page-sessions">
	<link rel="import" href="../../bower_components/polymer/polymer.html">
	<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">

	<style is="custom-style">
		paper-material {
			background-color: white;
		}
	</style>
	
	<template>
		<div class="container">
			<iron-pages id="pageSelector" attrForSelected="data-subpage" selected="[[sessionSubpage]]">
				<paper-material>
					<h3>Sessions</h3>
				</paper-material>
			</iron-pages>
		</div>
	</template>

	<script>
		Polymer({
			is: 'polyquiz-page-sessions',
			properties: {
				ctx: {
					type: Object,
					observer: "onContextChanged"
				},
				isAdmin: {
					type: Boolean,
					value: false
				},
				adminData: {
					type: Object
				}
			},
			onAdminStatusChanged: function(e) {
				var details = e.detail;
				this.adminData = e.detail;
				this.isAdmin = details.admin;
			},
			ready: function() {
				this.$.pageSelector.select(0);

				var parent = document.querySelector("#mainapp");
				parent.addEventListener('polyquiz-admin-status', this.onAdminStatusChanged.bind(this));
			}
		});
	</script>
</dom-module>